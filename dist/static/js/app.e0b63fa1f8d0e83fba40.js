webpackJsonp([1],{"+Ixx":function(t,e){},"/wAz":function(t,e){},"0Hw8":function(t,e){},"2W3N":function(t,e){},"991W":function(t,e){},HFBH:function(t,e){},JPWl:function(t,e){},KFAS:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",{attrs:{exclude:"Details"}},[e("router-view")],1)],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(t){s("sF99")},null,null).exports,r=s("/ocq"),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header border_bottom"},[t._m(0),t._v(" "),s("nav",{staticClass:"header-nav"},[s("div",{class:{border_bottom:0==t.index},on:{click:function(e){return t.listSwitching(0)}}},[t._v("正在热映")]),t._v(" "),s("div",{class:{border_bottom:1==t.index},on:{click:function(e){return t.listSwitching(1)}}},[t._v("即将上映")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-top"},[e("span",{staticClass:"header-text"},[this._v("北京")]),this._v(" "),e("input",{staticClass:"header-input",attrs:{type:"text",value:"电影/电视剧/影人"}})])}]};var c=s("VU/8")({name:"HomeHeader",data:function(){return{index:0}},methods:{listSwitching:function(t){this.index=t}}},o,!1,function(t){s("sxGk")},"data-v-03ab7f0a",null).exports,l={name:"HomeList",data:function(){return{list:[],onLine:!0}},mounted:function(){this.offline()},methods:{offline:function(){!1===navigator.onLine?this.onLine=!1:(this.onLine=!0,this.getData())},details:function(t){this.$router.push({path:"/Details",name:"Details",query:{id:t}})},getData:function(){var t=this;this.axios.get('https://api.douban.com/v2/movie/in_theaters?apikey=0b2bdeda43b5688921839c8ecb20399b&city=北京&start=0&count=39&client=&udid=""').then(function(e){t.list=e.data.subjects,t.addZero(t.list),t.count(t.list)})},count:function(t){for(var e=0;e<t.length;e++)t[e].collect_count>1e4&&(t[e].collect_count=(t[e].collect_count/1e4).toFixed(2).slice(0,-1)+"万")},addZero:function(t){for(var e=0;e<t.length;e++)1!==t[e].rating.average&&2!==t[e].rating.average&&3!==t[e].rating.average&&4!==t[e].rating.average&&5!==t[e].rating.average&&6!==t[e].rating.average&&7!==t[e].rating.average&&8!==t[e].rating.average&&9!==t[e].rating.average||(t[e].rating.average=t[e].rating.average+".0")}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[1==t.onLine?s("div",{staticClass:"list"},t._l(t.list,function(e,a){return s("div",{key:a,staticClass:"dome border_bottom",on:{click:function(s){return t.details(e.id)}}},[s("img",{staticClass:"list-img",attrs:{src:e.images.large}}),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"list-left"},[s("h1",{staticClass:"list-title"},[t._v(t._s(e.title))]),t._v(" "),s("h2",{staticClass:"average"},[t._v(t._s(0==e.rating.average?"暂无评分":e.rating.average))]),t._v(" "),e.directors[0]?s("div",{staticClass:"director"},[t._v("导演："+t._s(e.directors[0].name))]):t._e(),t._v(" "),0!==e.casts.length?s("div",{staticClass:"performer"},[s("span",[t._v("主演：")]),t._l(e.casts,function(a,n){return s("span",{key:n},[t._v(t._s(a.name)),n+1!=e.casts.length?s("span",[t._v(" / ")]):t._e()])})],2):t._e()]),t._v(" "),s("div",{staticClass:"list-right"},[s("span",{staticClass:"count"},[t._v(t._s(e.collect_count)+"人看过")]),t._v(" "),s("button",{staticClass:"border"},[t._v("购票")])])])])}),0):t._e(),t._v(" "),0==t.onLine?s("div",{staticClass:"onLine"},[s("p",[t._v("网络无连接，请检查网络设置")])]):t._e()])},staticRenderFns:[]};var u=s("VU/8")(l,v,!1,function(t){s("Wr1+")},"data-v-36db9d8e",null).exports,d={name:"FooterNav",props:{activeIndex:Number},data:function(){return{index:1}},methods:{jump:function(t,e,s){this.index=e,this.$router.push({path:t,name:s})}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer border-top"},[s("div",{staticClass:"dome",class:{active:1==t.activeIndex},on:{click:function(e){return t.jump("/",1,"Home")}}},[s("span",[t._v("热映")])]),t._v(" "),s("div",{staticClass:"dome",class:{active:2==t.activeIndex},on:{click:function(e){return t.jump("/Lookup",2,"Lookup")}}},[s("span",[t._v("找片")])]),t._v(" "),s("div",{staticClass:"dome",class:{active:3==t.activeIndex},on:{click:function(e){return t.jump("/My",3,"My")}}},[s("span",[t._v("我的")])])])},staticRenderFns:[]};var h=s("VU/8")(d,_,!1,function(t){s("jSrX")},"data-v-4e78bc31",null).exports,m={name:"Home",components:{HomeHeader:c,HomeList:u,HomeNav:h},data:function(){return{}},watch:{$route:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("home-header"),this._v(" "),e("home-List"),this._v(" "),e("home-nav",{attrs:{activeIndex:1}})],1)},staticRenderFns:[]};var f=s("VU/8")(m,p,!1,function(t){s("2W3N")},"data-v-432eae33",null).exports,g={name:"My",components:{HomeNav:h},data:function(){return{index:0}},methods:{active:function(t){this.index=t},login:function(){this.$router.push({name:"Login",path:"/Login"})}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my"},[s("header",{staticClass:"header",on:{click:t.login}},[s("span",{staticClass:"span iconfont"},[t._v("")]),t._v(" "),s("span",{staticClass:"font"},[t._v("请登录")])]),t._v(" "),s("nav",{staticClass:"nav border_bottom"},[s("span",{class:{border_bottom:0==t.index},on:{click:function(e){return t.active(0)}}},[t._v("讨论")]),t._v(" "),s("span",{class:{border_bottom:1==t.index},on:{click:function(e){return t.active(1)}}},[t._v("想看")]),t._v(" "),s("span",{class:{border_bottom:2==t.index},on:{click:function(e){return t.active(2)}}},[t._v("在看")]),t._v(" "),s("span",{class:{border_bottom:3==t.index},on:{click:function(e){return t.active(3)}}},[t._v("看过")]),t._v(" "),s("span",{class:{border_bottom:4==t.index},on:{click:function(e){return t.active(4)}}},[t._v("影评")]),t._v(" "),s("span",{class:{border_bottom:5==t.index},on:{click:function(e){return t.active(5)}}},[t._v("影人")])]),t._v(" "),s("home-nav",{attrs:{activeIndex:3}})],1)},staticRenderFns:[]};var C=s("VU/8")(g,b,!1,function(t){s("h7yK")},"data-v-7aff93cd",null).exports,x={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header border_bottom"},[e("input",{attrs:{type:"text",value:"电影/电视剧/影人"}}),this._v(" "),e("nav",{staticClass:"border_bottom"},[this._v("\n    电影\n  ")])])}]};var y=s("VU/8")({name:"LookupHeader",data:function(){return{}}},x,!1,function(t){s("uibv")},"data-v-674b2cbe",null).exports,k={name:"Lookup",props:{list:Array},data:function(){return{}},methods:{details:function(t){this.$router.push({path:"/Details",name:"Details",query:{id:t}})}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"List"},t._l(t.list,function(e,a){return s("div",{key:a,staticClass:"dome",on:{click:function(s){return t.details(e.id)}}},[s("img",{staticClass:"img",attrs:{src:e.images.large}}),t._v(" "),s("h1",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),0!==e.rating.average?s("span",{staticClass:"span"},[t._v(t._s(1==e.rating.average.toString().length?e.rating.average+".0":e.rating.average))]):t._e(),t._v(" "),0==e.rating.average?s("span",{staticClass:"span"},[t._v("暂无评分")]):t._e()])}),0)},staticRenderFns:[]};var F={name:"Lookup",components:{CommonNav:h,LookupHeader:y,LookupList:s("VU/8")(k,w,!1,function(t){s("KFAS")},"data-v-08488d17",null).exports},data:function(){return{list:[]}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.axios.get('/api/in_theaters?apikey=0b2bdeda43b5688921839c8ecb20399b&city=北京&start=0&count=39&client=&udid=""').then(function(e){console.log(e),t.list=e.data.subjects})}}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lookup"},[e("lookup-header"),this._v(" "),e("common-nav",{attrs:{activeIndex:2}}),this._v(" "),e("lookup-list",{attrs:{list:this.list}})],1)},staticRenderFns:[]};var R=s("VU/8")(F,$,!1,function(t){s("JPWl")},"data-v-50407566",null).exports,H={name:"Login",data:function(){return{footerShow:!0,number:0}},mounted:function(){this.hide()},methods:{Return:function(){this.$router.push({name:"My",path:"/My"})},hide:function(){this.number=window.document.body.clientHeight,console.log(window.document.body.clientHeight)}}},L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("span",{staticClass:"iconfont return",on:{click:t.Return}},[t._v("")]),t._v(" "),s("h2",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.number))]),t._v(" "),s("h1",{staticClass:"title"},[t._v("欢迎来到豆瓣")]),t._v(" "),s("input",{staticClass:"text",attrs:{type:"text",placeholder:"手机号"},on:{click:t.hide}}),t._v(" "),s("input",{staticClass:"password",attrs:{type:"text",placeholder:"密码"},on:{click:t.hide}}),t._v(" "),s("button",{staticClass:"btn"},[t._v("登录")]),t._v(" "),t._m(0),t._v(" "),s("footer",{directives:[{name:"show",rawName:"v-show",value:t.footerShow,expression:"footerShow"}]},[s("span",{staticClass:"iconfont"},[t._v("")]),t._v(" "),s("span",[t._v("QQ登录")]),t._v(" "),s("span",{staticClass:"center"},[t._v("|")]),t._v(" "),s("span",{staticClass:"iconfont"},[t._v("")]),t._v(" "),s("span",[t._v("微信登录")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"register"},[e("span",{staticClass:"one active"},[this._v("注册豆瓣")]),this._v(" "),e("span",{staticClass:"two"},[this._v("|")]),this._v(" "),e("span",{staticClass:"one"},[this._v("忘记密码")])])}]};var E=s("VU/8")(H,L,!1,function(t){s("HFBH")},"data-v-44870505",null).exports,D={props:{list:Object},name:"DetailsHeader",data:function(){return{}},methods:{Return:function(){this.$router.push({name:"Home",path:"/"})}}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"header"},[e("span",{staticClass:"iconfont return",on:{click:this.Return}},[this._v("")])]),this._v(" "),e("div",{staticClass:"imgbox"},[e("img",{attrs:{src:this.list.images.large}})])])},staticRenderFns:[]};var V=s("VU/8")(D,A,!1,function(t){s("qc02")},"data-v-da278648",null).exports,U={props:{list:Object},name:"DetailsContent",data:function(){return{unfold:"展开",Receivetrue:!0}},methods:{hide:function(){this.Receivetrue?(this.unfold="收起",this.Receivetrue=!1):(this.unfold="展开",this.Receivetrue=!0)}}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"content border_bottom"},[s("div",{staticClass:"content-left"},[s("h1",[t._v(t._s(t.list.title))]),t._v(" "),s("div",{staticClass:"type"},[s("span",[t._v(t._s(t.list.year))]),s("span",[t._v(" / ")]),t._v(" "),t._l(t.list.genres,function(e,a){return s("span",{key:a},[t._v(t._s(e)),a+1!==t.list.genres.length?s("span",[t._v(" / ")]):t._e()])})],2),t._v(" "),s("div",{staticClass:"type"},[s("span",[t._v("原名：")]),s("span",[t._v(t._s(t.list.original_title))])]),t._v(" "),s("div",{staticClass:"type"},[s("span",[t._v("上映时间：")]),s("span",[t._v(t._s(t.list.pubdates[0]))])]),t._v(" "),s("div",{staticClass:"type"},[s("span",[t._v("片长：")]),s("span",[t._v(t._s(t.list.durations[0]))])])]),t._v(" "),s("div",{staticClass:"content-right"},[s("div",{staticClass:"box"},[s("h2",[t._v("豆瓣评分")]),t._v(" "),s("span",{staticClass:"Fraction"},[t._v(t._s(0===t.list.rating.average?"暂无评分":t.list.rating.average)),1===t.list.rating.average||2===t.list.rating.average||3===t.list.rating.average||4===t.list.rating.average||5===t.list.rating.average||6===t.list.rating.average||7===t.list.rating.average||8===t.list.rating.average||9===t.list.rating.average?s("span",{staticClass:"Fraction"},[t._v(".0")]):t._e()]),t._v(" "),s("span",{staticClass:"count"},[t._v(t._s(t.list.ratings_count)+"人")])])])]),t._v(" "),s("div",{staticClass:"footer border_bottom"},[s("h3",[t._v("简介")]),t._v(" "),s("p",{class:{Receive:1==t.Receivetrue,height:1==t.Receivetrue}},[t._v(t._s(t.list.summary))]),t._v(" "),t.list.summary.length>84?s("span",{staticClass:"unfold",staticStyle:{color:"#179717"},on:{click:t.hide}},[t._v(t._s(t.unfold))]):t._e()])])},staticRenderFns:[]};var S=s("VU/8")(U,j,!1,function(t){s("W7g0")},"data-v-675d0eea",null).exports,M={props:{list:Object},name:"Detailscasts",data:function(){return{}},methods:{}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"casts"},[s("h1",[t._v("影人")]),t._v(" "),s("div",{staticClass:"item"},[s("img",{attrs:{src:t.list.directors[0].avatars.large}}),t._v(" "),s("h2",[t._v(t._s(t.list.directors[0].name))]),t._v(" "),s("p",[t._v("导演")])]),t._v(" "),t._l(t.list.casts,function(e,a){return s("div",{key:a,staticClass:"item"},[s("img",{attrs:{src:e.avatars.large}}),t._v(" "),s("h2",[t._v(t._s(e.name))]),t._v(" "),s("p",[t._v("演员")])])})],2)])},staticRenderFns:[]};var N=s("VU/8")(M,W,!1,function(t){s("vDbM")},"data-v-3d713999",null).exports,I={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"filmreview"},[e("header",{staticClass:"header"},[e("span",{staticClass:"header-left"},[this._v("影评")]),this._v(" "),e("button",{staticClass:"header-right border"},[this._v("写影评")])])])}]};var q=s("VU/8")({name:"filmreview",data:function(){return{}}},I,!1,function(t){s("+Ixx")},"data-v-cd98c328",null).exports,z={props:{listArr:Array},name:"comment",data:function(){return{}},methods:{}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"center"},[t._l(t.listArr,function(e,a){return a<4?s("div",{key:a,staticClass:"box"},[s("div",{staticClass:"center-left"},[s("img",{staticClass:"userhead",attrs:{src:e.author.avatar}})]),t._v(" "),s("div",{staticClass:"center-right"},[s("header",[s("span",{staticClass:"title"},[t._v(t._s(e.author.name))]),t._v(" "),s("span",{staticClass:"count"},[t._v(t._s(e.useful_count))]),t._v(" "),s("span",{staticClass:"iconfont Fabulous"},[t._v("")])]),t._v(" "),s("p",[t._v(t._s(e.content))]),t._v(" "),s("span",{staticClass:"font"},[t._v(t._s(new Date(e.created_at).getMonth()+1)+"月"+t._s(new Date(e.created_at).getDate())+"日")])])]):t._e()}),t._v(" "),s("div",{staticClass:"footer border_bottom"},[t._v("\n      全部短评"+t._s(t.listArr.length)+"个\n    ")])],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header border-top"},[e("span",{staticClass:"header-left"},[this._v("短评")]),this._v(" "),e("button",{staticClass:"header-right border"},[this._v("写短评")])])}]};var O={name:"Details",components:{DetailsHeader:V,DetailsContent:S,DetailsCasts:N,Comment:s("VU/8")(z,K,!1,function(t){s("eiVd")},"data-v-1435ec6e",null).exports,DetailsFilmreview:q},data:function(){return{list:{rating:{},pubdates:[],durations:[],summary:"",images:{},directors:[{avatars:""}]},ShortArr:[],FilmArr:[]}},mounted:function(){this.details(this.$route.query.id)},methods:{details:function(t){var e=this;this.axios.get("http://api.douban.com/v2/movie/subject/"+t+"?apikey=0b2bdeda43b5688921839c8ecb20399b&city=%E5%8C%97%E4%BA%AC&client=&udid=").then(function(t){e.list=t.data}),this.axios.get("http://api.douban.com/v2/movie/subject/"+t+"/reviews?apikey=0b2bdeda43b5688921839c8ecb20399b").then(function(t){e.FilmArr=t.data.reviews}),this.axios.get("http://api.douban.com/v2/movie/subject/"+t+"/comments?apikey=0b2bdeda43b5688921839c8ecb20399b").then(function(t){e.ShortArr=t.data.comments})}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details"},[s("details-header",{attrs:{list:t.list}}),t._v(" "),s("details-content",{attrs:{list:t.list}}),t._v(" "),s("details-casts",{attrs:{list:t.list}}),t._v(" "),t._m(0),t._v(" "),s("comment",{attrs:{listArr:t.ShortArr}}),t._v(" "),s("details-filmreview")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"nav"},[e("a",{staticClass:"border_bottom"},[this._v("评论")]),this._v(" "),e("a",[this._v("讨论")])])}]};var J=s("VU/8")(O,B,!1,function(t){s("zCUj")},"data-v-f848f35e",null).exports;a.a.use(r.a);var P=new r.a({routes:[{path:"/",name:"Home",component:f},{path:"/My",name:"My",component:C},{path:"/Lookup",name:"Lookup",component:R},{path:"/Login",name:"Login",component:E},{path:"/Details",name:"Details",component:J}]}),T=s("mtWM"),G=s.n(T),Q=s("v5o6"),X=s.n(Q);s("991W"),s("/wAz"),s("0Hw8"),s("sVYa");a.a.prototype.axios=G.a,a.a.config.productionTip=!1,X.a.attach(document.body),new a.a({el:"#app",router:P,components:{App:i},template:"<App/>"})},W7g0:function(t,e){},"Wr1+":function(t,e){},eiVd:function(t,e){},h7yK:function(t,e){},jSrX:function(t,e){},qc02:function(t,e){},sF99:function(t,e){},sxGk:function(t,e){},uibv:function(t,e){},vDbM:function(t,e){},zCUj:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e0b63fa1f8d0e83fba40.js.map